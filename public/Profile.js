(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{103:function(r,s,t){"use strict";t.r(s);var e=t(0),a=t.n(e),o=t(2);function d(r,s,t,e,a,o,d){try{var n=r[o](d),i=n.value}catch(r){return void t(r)}n.done?s(i):Promise.resolve(i).then(e,a)}function n(r,s){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);s&&(e=e.filter((function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),t.push.apply(t,e)}return t}function i(r){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?n(Object(t),!0).forEach((function(s){l(r,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach((function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))}))}return r}function l(r,s,t){return s in r?Object.defineProperty(r,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[s]=t,r}var p={name:"Profile",components:{Modal:t(13).a},data:function(){return{user:[],updatePasswordForm:{current_password:"",password:"",password_confirmation:""},errors:[],processing:!1,showEditProfileModal:!1,showUpdatePasswordModal:!1}},beforeMount:function(){this.user=this.$store.state.auth.user},computed:i({},Object(o.d)({getErrors:function(r){return r.user_state.error}})),methods:i(i({},Object(o.b)({updateUserPassword:"user_state/updateUserPassword",clearError:"user_state/clearError"})),{},{closeUpdatePasswordModal:function(){this.showUpdatePasswordModal=!1,this.updatePasswordForm.current_password="",this.updatePasswordForm.password="",this.updatePasswordForm.password_confirmation=""},validateRequest:function(){this.updatePasswordForm.current_password.trim()||(this.errors.current_password="Old password is required!"),this.updatePasswordForm.password.trim()?this.updatePasswordForm.password.trim().length<8?this.errors.password="Password should be at least 8 characters!":this.updatePasswordForm.password.trim()===this.updatePasswordForm.current_password.trim()?this.errors.password="Old password and New password cannot be same.":this.updatePasswordForm.password.trim()!==this.updatePasswordForm.password_confirmation.trim()&&(this.errors.password="New password and Confirm password does not match."):this.errors.password="New password is required!",this.updatePasswordForm.password_confirmation.trim()?this.updatePasswordForm.password_confirmation.trim().length<8&&(this.errors.password_confirmation="Confirm password should be at least 8 characters!"):this.errors.password_confirmation="Confirm password is required!"},updatePassword:function(){var r,s=this;return(r=a.a.mark((function r(){var t;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if((t=s).$Progress.start(),t.clearErrors(),t.processing=!0,t.validateRequest(),!Object.keys(t.errors).length){r.next=9;break}return t.$Progress.fail(),t.processing=!1,r.abrupt("return");case 9:return r.next=11,s.updateUserPassword(t.updatePasswordForm).finally((function(){t.processing=!1}));case 11:if(null==t.getErrors){r.next=15;break}return t.errors=t.getErrors,t.$Progress.fail(),r.abrupt("return");case 15:t.closeUpdatePasswordModal(),t.$Progress.finish();case 17:case"end":return r.stop()}}),r)})),function(){var s=this,t=arguments;return new Promise((function(e,a){var o=r.apply(s,t);function n(r){d(o,e,a,n,i,"next",r)}function i(r){d(o,e,a,n,i,"throw",r)}n(void 0)}))})()},clearErrors:function(){this.errors={},this.clearError()}})},u=t(1),c=Object(u.a)(p,(function(){var r=this,s=r.$createElement,t=r._self._c||s;return t("div",[r.showUpdatePasswordModal?t("modal",{attrs:{showModal:r.showUpdatePasswordModal,modalTitle:"Update Password!"},on:{closeModal:r.closeUpdatePasswordModal},scopedSlots:r._u([{key:"modalContent",fn:function(){return[t("form",{attrs:{method:"post"},on:{submit:function(s){return s.stopPropagation(),s.preventDefault(),r.updatePassword(s)}}},[t("Custom_Text_Input",{staticClass:"mb-4",attrs:{Add_Input_Class:"h-10",label:"Old Password",id:"current_password",type:"password",placeholder:"********",error:r.errors.current_password&&Array.isArray(r.errors.current_password)?r.errors.current_password[0]:r.errors.current_password},model:{value:r.updatePasswordForm.current_password,callback:function(s){r.$set(r.updatePasswordForm,"current_password",s)},expression:"updatePasswordForm.current_password"}}),r._v(" "),t("Custom_Text_Input",{staticClass:"mb-4",attrs:{Add_Input_Class:"h-10",label:"New Password",id:"password",type:"password",placeholder:"********",error:r.errors.password&&Array.isArray(r.errors.password)?r.errors.password[0]:r.errors.password},model:{value:r.updatePasswordForm.password,callback:function(s){r.$set(r.updatePasswordForm,"password",s)},expression:"updatePasswordForm.password"}}),r._v(" "),t("Custom_Text_Input",{staticClass:"mb-4",attrs:{Add_Input_Class:"h-10",label:"Confirm Password",id:"password_confirmation",type:"password",placeholder:"********",error:r.errors.password_confirmation&&Array.isArray(r.errors.password_confirmation)?r.errors.password_confirmation[0]:r.errors.password_confirmation},model:{value:r.updatePasswordForm.password_confirmation,callback:function(s){r.$set(r.updatePasswordForm,"password_confirmation",s)},expression:"updatePasswordForm.password_confirmation"}}),r._v(" "),t("div",{staticClass:"flex justify-end pt-2"},[t("button",{staticClass:"shadow-md px-3 py-1 bg-red-500 border border-transparent rounded-md\n                    text-xs text-white tracking-widest hover:bg-red-400 active:bg-red-600 transition ease-in-out\n                    duration-150 mb-2 block mx-auto uppercase rounded",on:{click:function(s){s.stopPropagation(),s.preventDefault(),r.showUpdatePasswordModal=!r.showUpdatePasswordModal}}},[r._v("\n                        Cancel\n                    ")]),r._v(" "),t("Custom_Loading_Button",{attrs:{Add_Input_Class:"mb-2 block mx-auto uppercase rounded",processing:r.processing},on:{button_clicked:r.updatePassword}},[t("span",[r._v("Update")])])],1)],1)]},proxy:!0}],null,!1,4015867325)}):r._e(),r._v(" "),t("div",{staticClass:"lg:flex lg:items-center lg:justify-between"},[r.user?t("div",{staticClass:"flex-1 min-w-0 mt-4"},[t("img",{staticClass:"w-32 h-32 mb-4 rounded-full shadow-md",attrs:{src:r.user.avatar,alt:"",width:"384",height:"512"}}),r._v(" "),t("h2",{staticClass:"text-2xl mb-2 leading-7 sm:text-3xl sm:truncate"},[r._v("\n                "+r._s(r.user.first_name+" "+r.user.last_name)+"\n            ")]),r._v(" "),t("div",[t("p",{staticClass:"mb-2"},[r._v("Username: "),t("span",{staticClass:"text-indigo-600 dark:text-indigo-400"},[r._v(r._s(r.user.username))])]),r._v(" "),t("p",{staticClass:"mb-2"},[r._v("Email: "),t("span",{staticClass:"text-indigo-600 dark:text-indigo-400"},[r._v(r._s(r.user.email))])])]),r._v(" "),t("div",{staticClass:"mt-1 flex flex-col sm:flex-row sm:flex-wrap sm:mt-0 sm:space-x-6"},[t("div",{staticClass:"mt-2 flex items-center text-sm text-gray-500"},[t("svg",{staticClass:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"}},[t("path",{attrs:{"fill-rule":"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z","clip-rule":"evenodd"}})]),r._v("\n                    Joined: "+r._s(r._f("dateFormatAgo")(r.user.created_at))+"\n                ")])])]):r._e(),r._v(" "),t("div",{staticClass:"mt-5 flex lg:mt-0 lg:ml-4"},[t("div",{staticClass:"sm:block"},[t("button",{staticClass:"inline-flex items-center px-4 py-1 border border-gray-300 rounded-md shadow-sm text-xs font-medium text-gray-700 bg-white hover:bg-gray-200",attrs:{type:"button"},on:{click:function(s){s.stopPropagation(),s.preventDefault(),r.showEditProfileModal=!r.showEditProfileModal}}},[t("svg",{staticClass:"-ml-1 mr-2 h-5 w-5 text-gray-500",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"}},[t("path",{attrs:{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"}})]),r._v("\n                    Edit\n                ")])]),r._v(" "),t("div",{staticClass:"sm:block ml-3 relative"},[t("button",{staticClass:"inline-flex items-center px-4 py-1 border border-gray-300 rounded-md shadow-sm text-xs font-medium text-gray-700 bg-white hover:bg-gray-200",class:{"bg-gray-200":r.showUpdatePasswordModal},attrs:{type:"button",disabled:r.showUpdatePasswordModal},on:{click:function(s){s.stopPropagation(),s.preventDefault(),r.showUpdatePasswordModal=!0}}},[t("svg",{staticClass:"-ml-1 mr-2 h-5 w-5 text-gray-500",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"}},[t("path",{attrs:{"fill-rule":"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z","clip-rule":"evenodd"}})]),r._v("\n                    Change Password\n                ")])])])]),r._v(" "),t("div",{staticClass:"my-8"},[r._v("\n        Logged in devices.\n    ")])],1)}),[],!1,null,null,null);s.default=c.exports}}]);